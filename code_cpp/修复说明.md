# 修复说明：测试运行主程序的问题

## 问题原因

之前的 Makefile 在编译测试时包含了 `src/main.cpp`，这个文件有自己的 `main()` 函数，导致：
1. 如果 GTest 没有正确链接，程序会运行主程序的 `main()`，进入软件界面
2. 如果 GTest 正确链接，会出现多个 `main()` 函数的链接错误

## 解决方案

已修复 Makefile：
- 创建了 `TEST_SRCS` 变量，排除 `main.cpp`
- 所有测试编译都使用 `TEST_SRCS` 而不是 `SRCS`
- 这样测试程序会使用 `gtest_main` 提供的 `main()` 函数

## 修复后的文件

- `Makefile` - 已更新，排除 `main.cpp` 从测试编译中

## 现在如何运行

```bash
cd ~/软工/code_cpp

# 清理旧文件
make clean

# 重新编译并运行测试
make test-storage
make test-search
```

现在应该会运行测试而不是主程序了！

