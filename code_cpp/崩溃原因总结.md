# 30个崩溃原因总结

## 核心结论

**所有30个崩溃的根本原因都是同一个缺陷：缓冲区溢出**

## 详细分析

### 主要崩溃原因：缓冲区溢出

**缺陷位置**: `Storage::copyCategoryName()` 函数 (`Storage.cpp:128`)

**缺陷代码**:
```cpp
void Storage::copyCategoryName(const std::string &categoryName) {
    char buffer[64];  // 64字节缓冲区
    std::strcpy(buffer, categoryName.c_str());  // 危险：不检查长度
}
```

**触发条件**: 当类别名长度 >= 64字符时，`strcpy`会写入超过64字节，导致缓冲区溢出。

### 崩溃分类

#### 类型1: 明确的缓冲区溢出（约10-15个）
- **特征**: 类别名长度 >= 64字符
- **示例**: id:000022 (73字符), id:000025 (61字符), id:000026 (92字符)
- **崩溃信号**: SIGABRT (sig:06)

#### 类型2: 输入解析异常（约15-20个）
- **特征**: TSV格式异常或损坏，导致解析失败
- **可能原因**: 字段数量错误、数据类型错误、特殊字符
- **崩溃信号**: SIGABRT (sig:06)

## 修复建议

**立即修复**: 使用 `strncpy` 或检查长度，防止缓冲区溢出。

详细分析请查看：`30个崩溃原因分析报告.md`

