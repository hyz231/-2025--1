# 模糊测试快速开始

## 最简单的运行方式（4步）

### 步骤1: 安装AFL++

```bash
sudo apt-get update
sudo apt-get install -y afl++
```

### 步骤2: 设置模糊测试

```bash
cd ~/软工/code_cpp
chmod +x afl_fuzz_setup.sh
./afl_fuzz_setup.sh
```

### 步骤3: 运行模糊测试（至少5小时）

```bash
# 前台运行（可以看到实时输出）
afl-fuzz -i fuzz_input -o fuzz_output -- ./fuzz_bin/fuzz_target

# 或后台运行（推荐）
nohup afl-fuzz -i fuzz_input -o fuzz_output -- ./fuzz_bin/fuzz_target > fuzz.log 2>&1 &
```

### 步骤4: 查看结果

```bash
# 查看崩溃（如果有）
ls fuzz_output/default/crashes/

# 查看统计信息
cat fuzz_output/default/fuzzer_stats

# 查看运行日志（如果后台运行）
tail -f fuzz.log
```

## 预期输出

### 运行界面示例

```
american fuzzy lop ++3.15a (default) [fast] {0}
┌─ process timing ──────────────────────────────────────┐
│        run time : 0 days, 5 hrs, 23 min, 45 sec      │
│   last new path : 0 days, 0 hrs, 0 min, 12 sec       │
│ last uniq crash : 1 (如果发现崩溃会显示)              │
│  last uniq hang : none seen yet                       │
└───────────────────────────────────────────────────────┘
```

## 如果发现崩溃

```bash
# 查看崩溃文件
ls fuzz_output/default/crashes/

# 复现崩溃
./fuzz_bin/fuzz_target < fuzz_output/default/crashes/id:000000*
```

## 如果未发现崩溃

运行至少5小时后，截图：
1. 运行时间（显示至少5小时）
2. `fuzzer_stats`文件内容
3. 说明已运行足够长时间

详细说明请查看：`如何运行模糊测试.md`

